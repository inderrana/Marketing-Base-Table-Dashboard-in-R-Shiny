---
title: "Gambeling Analysis Manual"
author: "Dimitri Kestenbaum, Nixia Sancy, and Inder Rana"
date: "12/17/2021"
output: pdf_document
---

```{r setup, include=FALSE}
library('ggplot2')
knitr::opts_chunk$set(echo = TRUE)
```

## Analysis Overview

The purpose of this manual is to provide our marketing analysis team with a high-level overview of the relevant statistical summaries of this descriptive analysis project. Provided additionally, are explanations for the different features or variables which we engineered as a team in order to extract additional insight from the dataset, which can be used in future analysis such as segmentation or predictive analytics. 

# Basetable Variable Summary Statistics: 
# Total Bets Stats:
```{r}
## Total bets summary sa
load("~/Desktop/marketing_datamart/gambeling_analysis/base_table.Rdata")
summary(base_table$total_bets)
```
#Total Stakes Stats:

```{r}
## Total bets summary sa
summary(base_table$total_stakes)
```
#Total Wins Stats:
```{r}
## Total bets summary sa
summary(base_table$total_wins)
```
#Total Profit Stats: 
```{r}
## Total bets summary sa
summary(base_table$profit)
```
## Created Metrics:

LOR (Length of Relationship):

Calculated by subtracting registration date (RegDate) from the latest date in the dataset October, 2nd 2005. The unit of this measure is days since registration date. As the histogram below displays, the highest count of in the distribution is found in the interval from 220 days to 225 days. 

```{r}
## Total bets summary sa
histogram_LOR <- ggplot(base_table, aes(x=LOR)) +
  geom_histogram() 
histogram_LOR
```

PTAI (Pay to Active Interval):

This time interval is found by subtracting the time from the first deposit of funds for betting to the date where the gambler is first actively participating in play. The unit of this measure is days. The histogram below shows that the dataset's PTAI is uniformly distributed with very little variance. However, there are a few outliers in both the positive and negative directions. This means in a few cases gamblers were actively playing prior to their first date due to promotional campaigns.

```{r}
## Total bets summary sa
histogram_PTAI <- ggplot(base_table, aes(x=PTAI)) +
  geom_histogram(bins=4) 
histogram_PTAI
```

RTFP (Registration to First Payment)

This metric is a time interval from a gambler registration date to the first deposit of funds for betting. It is calculated by subtracting the registration date from the first pay date. It's unit of measure is days. 

```{r}
## Total bets summary sa
histogram_RTFP <- ggplot(base_table, aes(x=RTFP)) +
  geom_histogram() 
histogram_RTFP
```
The distribution of RTFP above demonstrates that the vast majority of gamblers made their first deposit of gambling funds the same day they were registered. However, some outliers on the far right of the horizontal axis indicate anomalous behavior paying as much as 242 days after registering. There are no gamblers with a negative RTFP, as all gamblers with a first pay date before registration were filtered from the dataset. 

```{r}
max(base_table$RTFP)
min(base_table$RTFP)
```